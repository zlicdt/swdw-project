<!DOCTYPE html>
<head>
    <title>Our Hometowns</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./style.css">
    <script src="./js/displayScripts.js"></script>
</head>
<body>
    <div id="divs">
        <table id="tbs">
            <tr>
                <th id="th_style_1" style="width: 256px;"><a href="./hometowns.html">Our Hometowns</a></th>
                <th id="th_style_1" style="width: 384px;"><a href="./loginRegForm.html">Login / Register</a></th>
                <th id="th_style_1" style="width: 128px;"><a href="./AboutUs.html">About Us</a></th>
            </tr>
            <tr>
                <th id="th_style_3i" colspan="3">
                    <div style="text-align: center; vertical-align: middle;">
                        <br>
                        <span style="font-weight: bold;">Hometown Form:</span>
                        <br><br>
                        <form action="./php/reservation.php" method="post">
                            <label for="hometown">Hometown:</label>
                            <br>
                            <select id="hometown" name="hometown" onchange="updateTextSelectedCity()" required>
                                <option value="H1" >Guangzhou City</option>
                                <option value="H2" >Jilin City</option>
                                <option value="H3" >Jiujiang City</option>
                                <option value="H4" >Quanzhou City</option>
                            </select>
                            <br><br>
                            <span>Your city selected is: </span>
                            <input type="text" id="selectedCity" readonly>
                            <br><br>
                            <button type="submit">Make Reservation</button>
                        </form>
                    </div>
                </th>
            </tr>
            <tr>
                <th id="th_style_3">
                    <div id="attrsArea"></div>
                </th>
                <th id="th_style_3">
                    <div id="imgArea"></div>
                </th>
                <th id="th_style_3i">
                    <form action="./php/search.php" method="get">
                        <button id="btn" type="submit">Search Panel</button>
                    </form>
                </th>
            </tr>
        </table>
    </div>
    <script>
        // Update page once when loaded
        var selectElement = document.getElementById("hometown");
        var selectedTag = selectElement.value;
        displayAttrAndImg(selectedTag);
        var selectedValue = selectElement.options[selectElement.selectedIndex].text;
        document.getElementById("selectedCity").value = selectedValue;
        // Update page when the select element changes
        function updateTextSelectedCity() {
            var selectElement = document.getElementById("hometown");
            var selectedTag = selectElement.value;
            displayAttrAndImg(selectedTag);
            var selectedValue = selectElement.options[selectElement.selectedIndex].text;
            document.getElementById("selectedCity").value = selectedValue;
        }
    </script>
</body>